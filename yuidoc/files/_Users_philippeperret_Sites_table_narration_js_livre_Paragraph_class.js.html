<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/Users/philippeperret/Sites/table_narration/js/livre/Paragraph_class.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/App.html">App</a></li>
            
                <li><a href="../classes/App.Clipboard.html">App.Clipboard</a></li>
            
                <li><a href="../classes/App.Prefs.html">App.Prefs</a></li>
            
                <li><a href="../classes/Chapter.html">Chapter</a></li>
            
                <li><a href="../classes/Collection.html">Collection</a></li>
            
                <li><a href="../classes/ColText.html">ColText</a></li>
            
                <li><a href="../classes/ContextualHelp.html">ContextualHelp</a></li>
            
                <li><a href="../classes/DICO.html">DICO</a></li>
            
                <li><a href="../classes/Fiche.html">Fiche</a></li>
            
                <li><a href="../classes/FICHES.html">FICHES</a></li>
            
                <li><a href="../classes/Film.html">Film</a></li>
            
                <li><a href="../classes/FILMS.html">FILMS</a></li>
            
                <li><a href="../classes/HTMLTable.html">HTMLTable</a></li>
            
                <li><a href="../classes/Mot.html">Mot</a></li>
            
                <li><a href="../classes/ObjetClass.html">ObjetClass</a></li>
            
                <li><a href="../classes/OBJETS.html">OBJETS</a></li>
            
                <li><a href="../classes/OBJETS.Dom.html">OBJETS.Dom</a></li>
            
                <li><a href="../classes/Page.html">Page</a></li>
            
                <li><a href="../classes/Paragraph.html">Paragraph</a></li>
            
                <li><a href="../classes/PARAGRAPHES.html">PARAGRAPHES</a></li>
            
                <li><a href="../classes/Ref.html">Ref</a></li>
            
                <li><a href="../classes/REFS.html">REFS</a></li>
            
                <li><a href="../classes/Search.html">Search</a></li>
            
                <li><a href="../classes/UI.html">UI</a></li>
            
                <li><a href="../classes/UI.Html.html">UI.Html</a></li>
            
                <li><a href="../classes/UI.Input.html">UI.Input</a></li>
            
                <li><a href="../classes/UI.ModeUnique.html">UI.ModeUnique</a></li>
            
                <li><a href="../classes/UI.Textarea.html">UI.Textarea</a></li>
            
                <li><a href="../classes/window.html">window</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/app.html">app</a></li>
            
                <li><a href="../modules/app

Objet qui gère le clipboard de l&#x27;application, dans lequel on peut mettre
des fiches, des références, etc..html">app

Objet qui gère le clipboard de l&#x27;application, dans lequel on peut mettre
des fiches, des références, etc.</a></li>
            
                <li><a href="../modules/app-prefs.html">app-prefs</a></li>
            
                <li><a href="../modules/App_clipboard.html">App_clipboard</a></li>
            
                <li><a href="../modules/Chapter.html">Chapter</a></li>
            
                <li><a href="../modules/Collection.html">Collection</a></li>
            
                <li><a href="../modules/ColText.html">ColText</a></li>
            
                <li><a href="../modules/ContextualHelp.html">ContextualHelp</a></li>
            
                <li><a href="../modules/data.html">data</a></li>
            
                <li><a href="../modules/Data.html">Data</a></li>
            
                <li><a href="../modules/Debug.html">Debug</a></li>
            
                <li><a href="../modules/DICO.html">DICO</a></li>
            
                <li><a href="../modules/DICO.js.html">DICO.js</a></li>
            
                <li><a href="../modules/Dom.html">Dom</a></li>
            
                <li><a href="../modules/dom.html">dom</a></li>
            
                <li><a href="../modules/Edition.html">Edition</a></li>
            
                <li><a href="../modules/edition.collection.js.html">edition.collection.js</a></li>
            
                <li><a href="../modules/Fiche.html">Fiche</a></li>
            
                <li><a href="../modules/fiche_data.html">fiche_data</a></li>
            
                <li><a href="../modules/fiche_dom.html">fiche_dom</a></li>
            
                <li><a href="../modules/FICHES.html">FICHES</a></li>
            
                <li><a href="../modules/FilmClass.html">FilmClass</a></li>
            
                <li><a href="../modules/FILMS.html">FILMS</a></li>
            
                <li><a href="../modules/Html.html">Html</a></li>
            
                <li><a href="../modules/Input.html">Input</a></li>
            
                <li><a href="../modules/jQueryExtension.html">jQueryExtension</a></li>
            
                <li><a href="../modules/KeyboardEvents.html">KeyboardEvents</a></li>
            
                <li><a href="../modules/KeyEvents.html">KeyEvents</a></li>
            
                <li><a href="../modules/Mot.html">Mot</a></li>
            
                <li><a href="../modules/OBJET.html">OBJET</a></li>
            
                <li><a href="../modules/ObjetClass.html">ObjetClass</a></li>
            
                <li><a href="../modules/objets.html">objets</a></li>
            
                <li><a href="../modules/OBJETS.Dom.html">OBJETS.Dom</a></li>
            
                <li><a href="../modules/Page.html">Page</a></li>
            
                <li><a href="../modules/Paragraph.html">Paragraph</a></li>
            
                <li><a href="../modules/PARAGRAPHS.html">PARAGRAPHS</a></li>
            
                <li><a href="../modules/ready.js.html">ready.js</a></li>
            
                <li><a href="../modules/ref.js.html">ref.js</a></li>
            
                <li><a href="../modules/REFS.js.html">REFS.js</a></li>
            
                <li><a href="../modules/Search.js.html">Search.js</a></li>
            
                <li><a href="../modules/String.html">String</a></li>
            
                <li><a href="../modules/UI.html">UI</a></li>
            
                <li><a href="../modules/UI_HTML.html">UI_HTML</a></li>
            
                <li><a href="../modules/ui_html_table

Le module définit l&#x27;objet UI.Html.str2table et la classe HTMLTable qui
permet de mettre en forme un tableau..html">ui_html_table

Le module définit l&#x27;objet UI.Html.str2table et la classe HTMLTable qui
permet de mettre en forme un tableau.</a></li>
            
                <li><a href="../modules/UI_Input.html">UI_Input</a></li>
            
                <li><a href="../modules/ui_mode_unique.html">ui_mode_unique</a></li>
            
                <li><a href="../modules/window.html">window</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: /Users/philippeperret/Sites/table_narration/js/livre/Paragraph_class.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
  * @module Paragraph
  */
/**
  *  Class d&#x27;une fiche de type Paragraph
  *
  * @class    Paragraph
  * @extends  Fiche
  *
  */
window.Paragraph = function(data)
{
  if(undefined == data) data = {}
  data.type       = &#x27;para&#x27;
  /**
    * &#x60;ptype&#x60; du paragraphe définissant si c&#x27;est un texte normal (&#x27;text&#x27;) ou
    * autre chose tel qu&#x27;un fichier à inclure, etc.
    * @property {String} ptype
    * @default &#x27;text&#x27;
    */
  data.ptype      = &#x27;text&#x27;
  /**
    * Texte réel du paragraphe lorsqu&#x27;il n&#x27;est pas de type &#x27;text&#x27;
    * @property {String} real_text
    * @default Null
    */
  data.real_text  = null
  Fiche.call(this, data)
}
Paragraph.prototype = Object.create( Fiche.prototype )
Paragraph.prototype.constructor = Paragraph

Object.defineProperties(Paragraph.prototype,{

  /**
    * Retourne un extrait du paragraphe pour affichage dans une référence
    *
    * @property {String} titre_for_ref
    */
  &quot;titre_for_ref&quot;:{
    get:function(){
      var extrait = this.texte ;
      if(!extrait) extrait = &quot;[paragraphe vide]&quot;
      if(extrait.length &gt; 50) extrait = extrait.substring(0,50) + &#x27;[…]&#x27;
      return &#x27;&lt;span class=&quot;small&quot;&gt;&#x27;+extrait+&#x27;&lt;/span&gt;&#x27;
    }
  },

  /**
    * @property {Book} book Le livre auquel appartient le paragraphe (ou null)
    *
    */
  &quot;book&quot;:{
    get:function(){
      if(!this.parent) return null
      return this.parent.book
    }
  },

  /**
    * Le « ptype » du paragraphe indique son type propre, à savoir :
    *   * text  : Un texte &quot;normal&quot; qui sera juste formaté (défaut)
    *   * file  : Un paragraphe qui charge un fichier externe
    *   * code  : Du code javascript à interpréter.
    *   * ruby  : Du code ruby à évaluer
    *   * fico  : Un fichier contenant du code à évaluer
    * @property {String|Null} ptype
    */
  &quot;ptype&quot;:{
    get:function(){return this._ptype || null},
    set:function(ptype){
      if(this._ptype == ptype) return
      this._ptype = ptype
    }
  },
  
  /**
    *  Liste des styles du paragraphe (ou null/indéfini)
    *
    * NOTES
    * -----
    *   * Les styles sont définis dans le fichier &#x60;./js/data/paragraph_styles.js&#x60;
    *     qui est un fichier produit programmatiquement à partir des informations
    *     sur les styles contenus dans &#x60;./data/asset/paragraph_styles.txt&#x60;.
    *  
    * @property style
    * @type     {Array}
    * @default  {Undefined|Null}
    *
    */
  &quot;style&quot;:{
    set:function(selectors){
      if(&#x27;string&#x27;==typeof selectors) selectors = selectors.split(&#x27;.&#x27;)
      this._style = selectors
      this.main_field.attr(&#x27;class&#x27;, this.class_css)
      delete this._next_style
    },
    get:function(){return this._style}
  },
  
  /**
    * Retourne le style par défaut du paragraphe suivant s&#x27;il est défini
    *
    * @property {String} next_style
    */
  &quot;next_style&quot;:{
    get:function(){
      if(undefined == this._next_style)
      {
        if(this.style &amp;&amp; DATA_STYLES[this.style[0]])
        {
          this._next_style = DATA_STYLES[this.style[0]].style_after
        }
      }
      return this._next_style
    }
  },
  
  /**
    * Retourne le code pour l&#x27;attribut &#x60;class&#x60; de la balise en fonction des styles
    * du paragraphe.
    *
    * @property {String} class_css
    * @default  &quot;&quot; (chaine vide)
    */
  &quot;class_css&quot;:{
    get:function(){
      var css = $.merge([], this._style || [])
      css.push(&#x27;texte&#x27;)
      if(this.not_printed)
      {
        css.push(&#x27;not_printed&#x27;)
        if(App.preferences.masknotprinted) css.push(&#x27;hidden&#x27;)
      } 
      return css.join(&#x27; &#x27;)
    }
  },
  
  /**
    * Méthode &quot;filtrant&quot; le paragraphe, c&#x27;est-à-dire lui appliquant certains
    * styles ou le masquant suivant le filtre défini.
    * Traitement
    *   * Masque complètement les paragraphes &quot;not printed&quot; si préférence
    *   * Ajoute un &#x27;&lt;br&gt;&lt;br&gt;&#x27; au bout des paragraphes de type &quot;exemple document&quot;
    *     pour obtenir de l&#x27;air.
    * Notes
    *   * Cette méthode a été inaugurée pour gérer la préférence &quot;Masquer les 
    *     paragraphes not printed&quot;.
    *   * Pour le moment, le filtre ne concerne que cette préférence.
    *   * la méthode est appelée chaque fois qu&#x27;une page est ouverte, pour régler
    *     ses paragraphes.
    *   * TODO: Plus tard, on pourra l&#x27;utiliser pour filtrer suivant une recherche,
    *     une condition sur le style, sur l&#x27;état de développement, etc.
    *   * C&#x27;est une propriété complexe =&gt; appeler sans parenthèses
    *
    * @method applique_filtre
    */
  &quot;applique_filtre&quot;:{
    get:function(){
      if(this.not_printed)
      {
        if(!this.obj.hasClass(&#x27;not_printed&#x27;)) this.obj.addClass(&#x27;not_printed&#x27;)
        this.obj[(App.preferences.masknotprinted?&#x27;add&#x27;:&#x27;remove&#x27;)+&#x27;Class&#x27;](&#x27;hidden&#x27;)
      }
      else
      {
        if(this.is_exemple_document)
        {
          if(this.next == null || !this.next.is_exemple_document) this.div_texte.append(&#x27;&lt;br&gt;&lt;br&gt;&#x27;)
        }
      }
    }
  },
  
  /**
    * Retourne TRUE si le style du paragraphe est de type &quot;exemple document&quot;
    * @property {Boolean} is_exemple_document
    */
  &quot;is_exemple_document&quot;:{
    get:function(){
      if(!this.style) return false
      var prefs = PARAGRAPHS.PREFIXES_DOCUMENTS_EXEMPLES
      for(var ist = 0, len = this.style.length; ist &lt; len; ++ist)
      {
        // TODO Il faut mettre ça dans une constante générale pour
        // pouvoir le redéfinir aisément
        if(prefs.indexOf(this.style[ist].split(&#x27;_&#x27;)[0]) &gt; -1) return true
      }
      return false
    }
  },
  /*
   *  Méthode appelée quand on règle le verso de la fiche
   *
   *  Pour un paragraphe, on doit préparer l&#x27;affichage si nécessaire
   *  et régler les valeurs propres, comme le style du paragraphe.  
   */
  &quot;after_regle_verso&quot;:{
    get:function(){
      this.append_menu_styles
      this.append_menu_ptypes
      this.set_style
    }
  },

  /* ---------------------------------------------------------------------
   *
   *  Pour le &#x60;ptype&#x27; du paragraphe
   *
   * ---------------------------------------------------------------------*/
  /**
    * DOM Element du menu ptypes
    * Notes
    *   * Le menu des &quot;ptypes&quot; est un select unique, qui se déplace de fiches
    *     en fiche quand on les retourne. La propriété présente renvoie donc
    *     le menu mais seulement quand il se trouve dans son verso.
    * @property {jQuerySet} menu_ptypes
    */
  &quot;menu_ptypes&quot;:{get:function(){return $(this.verso.find(&#x27;select#menu_ptypes&#x27;))}},
  /**
    * Déplace le menu des ptypes dans ce paragraphe
    *
    * @method append_menu_ptypes
    */
  &quot;append_menu_ptypes&quot;:{
    get:function(){
      if(!PARAGRAPHS.menu_ptypes_ready) PARAGRAPHS.prepare_menu_ptypes
      else $(&#x27;select#menu_ptypes&#x27;).unbind(&#x27;change&#x27;)
      this.verso.find(&#x27;div.div_menu_ptypes&#x27;).append($(&#x27;select#menu_ptypes&#x27;))
      this.menu_ptypes.bind(&#x27;change&#x27;, $.proxy(this.onchange_ptype, this))
      this.menu_ptypes.val(this.ptype)
    }
  },
  /* ---------------------------------------------------------------------
   *
   *  Pour le style du paragraphe
   *
   --------------------------------------------------------------------- */
  /* Retourne l&#x27;objet DOM jQuery du menu des styles */
  &quot;menu_styles&quot;:{get:function(){return $(this.menu_styles_jid)}},
  /* Identifiant du menu */
  &quot;menu_styles_id&quot;:{get:function(){return this.dom_id+&#x27;-style&#x27;}},
  &quot;menu_styles_jid&quot;:{get:function(){return &quot;select#&quot;+this.menu_styles_id}},
  /*
   *  Déplace le menu des styles (unique) dans cette fiche
   *  
   */
  &quot;append_menu_styles&quot;:{
    get:function(){
      if(!PARAGRAPHS.html_menu_styles) PARAGRAPHS.build_menu_styles
      this.verso.find(&#x27;.div_menu_styles&#x27;).append($(&#x27;div#divuniq_menu_styles&#x27;))
    }
  },
  /* Règle le style dans le menu style du paragraphe (verso) */
  &quot;set_style&quot;:{
    get:function(){
      // On active tous les styles du paragraphe
      PARAGRAPHS.active_styles( this.style )
    }
  },  
  /*
   *  Concernant le TEXTE du paragraphe
   *  
   */
  &quot;texte_id&quot;:{get:function(){return this.dom_id+&#x27;-texte&#x27;}},
  &quot;textearea_texte_jid&quot;:{get:function(){return &quot;textarea#&quot;+this.texte_id}},
  &quot;textarea_texte&quot;:{get:function(){return $(this.textearea_texte_jid)}},
  &quot;div_texte_jid&quot;:{get:function(){return &quot;div#&quot;+this.texte_id}},
  &quot;div_texte&quot;:{get:function(){ return $(this.div_texte_jid)}},
  &quot;texte&quot;:{
    get:function(){ return this._texte || null },
    set:function(texte){
      if(texte == this._texte) return
      this._texte = texte
      this.main_field.val( texte )
    }
  },
  
  
  /* Code HTML du textarea pour &#x60;texte&#x27; */
  &quot;html_textarea_texte&quot;:{
    get:function(){
      return &#x27;&lt;textarea id=&quot;&#x27;+this.texte_id+&#x27;&quot; class=&quot;&#x27;+this.class_css+&#x27;&quot;&gt;&#x27;+this.main_field_value(false)+&#x27;&lt;/textarea&gt;&#x27;
    }
  },
  /* Code HTML du Div pour &#x60;texte&#x27; */
  &quot;html_div_texte&quot;:{
    get:function(){
      return &#x27;&lt;div id=&quot;&#x27;+this.texte_id+&#x27;&quot; class=&quot;&#x27;+this.class_css+&#x27;&quot;&gt;&#x27;+this.main_field_value(true)+&#x27;&lt;/div&gt;&#x27;
    }
  }
  
})

$.extend(Paragraph.prototype,{
  /**
    * Chargement du fichier associé au paragraphe
    *
    * Notes
    *   * La méthode renseigne la propriété &#x60;real_text&#x60; du paragraphe.
    *   * Cette méthode n&#x27;est nécessaire que lorsque le ptype du paragraphe
    *     vient d&#x27;être redéfini et qu&#x27;il fait appel à un fichier. Dans le cas 
    *     courant, c&#x27;est la procédure de chargement de la fiche qui renseigne côté
    *     serveur la propriété real_text.
    *
    * @method load_file
    * @async
    * @param  {Function}  poursuivre   
    *                     La méthode pour suivre, qui doit recevoir en premier argument
    *                     le code remonté et en second le paragraphe courant. Cela est
    *                     dû au fait que la méthode est principalement appelé par 
    *                     ColText.formate.
    */
  load_file:function(poursuivre, rajax)
  {
    if(undefined == rajax)
    {
      Ajax.send(
        {script:&#x27;file/load&#x27;, collection:Collection.name, file_path:this.texte},
        $.proxy(this.load_file, this, poursuivre)
      )
    }
    else if(rajax.ok)
    {
      if(rajax.need_create) F.show(rajax.need_create) // quand fichier créé
      this.real_text = rajax.file_real_text
      if(&#x27;function&#x27;==typeof poursuivre) poursuivre(this.real_text, this)
    }
    else F.error(rajax.message)
  },

  /**
    * Méthode appelée quand on change le texte d&#x27;un paragraphe
    * Notes
    * -----
    *   * La méthode a été séparée de &#x60;onchange_titre_or_texte&#x60; pour pouvoir
    *     faire un traitement plus précis sur le texte. Inauguré pour rechercher
    *     les éventuelles ajouts de balises [img:...] et donner un texte d&#x27;explication
    *     pour leur traitement pour la publication.
    *
    * @method onchange_titre
    * @param  {String} new_value La nouvelle valeur
    * @return {Boolean} True si le nouveau texte a été enregistré, false otherwise
    */
  onchange_texte:function(new_value){
    if(this.texte != new_value)
    {
      if(false == this.check_new_texte(new_value)) return false // mauvaise donnée
      this.texte = new_value
      this.modified = true    
      return true
    }
    else
    {
      return false
    }
  },
  
  /**
    * Check le nouveau texte avant de le prendre en compte.
    * @method check_new_texte
    * @param  {String} new_texte  Le nouveau texte.
    */
  check_new_texte:function(new_texte)
  {
    var old_texte = &quot;&quot; + (this.texte||&quot;&quot;) // un clone
    if(new_texte.indexOf(&quot;[img:&quot;) &lt; 0) return // rien à faire
    var new_imgs = new_texte.match(/\[img\:([^\|\]]+)(?:\||\])/g)
    new_imgs = L(new_imgs).collect(function(str){return str.substring(5, str.length-1)});
    var old_imgs = old_texte.match(/\[img\:([^\|\]]+)(?:\||\])/g)
    old_imgs = L(old_imgs).collect(function(str){return str.substring(5, str.length-1)});
    var very_new_images = []
    for(var i in new_imgs)
    {
      if(old_imgs.indexOf(new_imgs[i]) &lt; 0) very_new_images.push(new_imgs[i])
    }
    if(very_new_images.length)
    {
      // On vérifie que toutes les extensions soient des extensions images valides
      L(very_new_images).each(function(rpath){
        var dec = rpath.lastIndexOf(&#x27;.&#x27;) + 1
        var ext = rpath.substring(dec, rpath.length)
        if([&#x27;jpg&#x27;, &#x27;jpeg&#x27;, &#x27;png&#x27;, &#x27;gif&#x27;, &#x27;tif&#x27;, &#x27;tiff&#x27;].indexOf(ext) &lt; 0)
        {
          F.error(LOCALE.image.error[&#x27;bad format&#x27;].replace(/_PATH_IMAGE_/, rpath))
          return false
        }
      })
      F.show(
        LOCALE.paragraph.tip[&#x27;new images&#x27;].
          replace(/_IMAGES_/, very_new_images.join(&#x27;, &#x27;)).
          replace(/_COLLECTION_/, Collection.name)
      )
    }
    return true
  },
  /**
    * Méthode appelée quand on modifie le ptype du paragraphe
    *
    * @method onchange_ptype
    * @param  {String} ptype  Le ptype choisi.
    *
    */
  onchange_ptype:function()
  {
    var new_ptype = this.menu_ptypes.val()
    if(new_ptype == this.ptype) return
    this.ptype = new_ptype
    this.update_display
    this.modified = true
  },

  /**
    * Méthode appelée quand on applique les styles choisis pour
    * le paragraphe (verso de la fiche).
    *
    * @method on_change_styles
    * @param  {Array} selectors   Liste des styles choisis
    */
  on_change_styles:function(selectors){
    var idm = &quot;Paragraph.on_change_styles(&quot;+selectors.join(&#x27;, &#x27;)+&quot;) [&quot;+this.type_id+&quot;]&quot;
    dlog(&quot;---&gt; &quot;+idm, DB_FCT_ENTER | DB_CURRENT)
    if(selectors.length == 0) selectors = null
    this.style    = selectors
    this.update_display
    this.modified = true
    dlog(&quot;&lt;- &quot;+idm, DB_FCT_ENTER)
  }

})


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
