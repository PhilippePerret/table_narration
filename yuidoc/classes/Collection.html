<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Collection</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/App.html">App</a></li>
            
                <li><a href="../classes/App.Prefs.html">App.Prefs</a></li>
            
                <li><a href="../classes/Chapter.html">Chapter</a></li>
            
                <li><a href="../classes/Collection.html">Collection</a></li>
            
                <li><a href="../classes/ColText.html">ColText</a></li>
            
                <li><a href="../classes/ContextualHelp.html">ContextualHelp</a></li>
            
                <li><a href="../classes/DICO.html">DICO</a></li>
            
                <li><a href="../classes/Fiche.html">Fiche</a></li>
            
                <li><a href="../classes/FICHES.html">FICHES</a></li>
            
                <li><a href="../classes/FILMS.html">FILMS</a></li>
            
                <li><a href="../classes/Mot.html">Mot</a></li>
            
                <li><a href="../classes/ObjetClass.html">ObjetClass</a></li>
            
                <li><a href="../classes/OBJETS.html">OBJETS</a></li>
            
                <li><a href="../classes/OBJETS.Dom.html">OBJETS.Dom</a></li>
            
                <li><a href="../classes/Page.html">Page</a></li>
            
                <li><a href="../classes/Paragraph.html">Paragraph</a></li>
            
                <li><a href="../classes/PARAGRAPHES.html">PARAGRAPHES</a></li>
            
                <li><a href="../classes/Ref.html">Ref</a></li>
            
                <li><a href="../classes/REFS.html">REFS</a></li>
            
                <li><a href="../classes/UI.html">UI</a></li>
            
                <li><a href="../classes/UI.Input.html">UI.Input</a></li>
            
                <li><a href="../classes/window.html">window</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/app.html">app</a></li>
            
                <li><a href="../modules/app-prefs.html">app-prefs</a></li>
            
                <li><a href="../modules/Chapter.html">Chapter</a></li>
            
                <li><a href="../modules/Collection.html">Collection</a></li>
            
                <li><a href="../modules/ColText.html">ColText</a></li>
            
                <li><a href="../modules/ContextualHelp.html">ContextualHelp</a></li>
            
                <li><a href="../modules/Data.html">Data</a></li>
            
                <li><a href="../modules/data.html">data</a></li>
            
                <li><a href="../modules/Debug.html">Debug</a></li>
            
                <li><a href="../modules/DICO.html">DICO</a></li>
            
                <li><a href="../modules/DICO.js.html">DICO.js</a></li>
            
                <li><a href="../modules/Dom.html">Dom</a></li>
            
                <li><a href="../modules/dom.html">dom</a></li>
            
                <li><a href="../modules/Edition.html">Edition</a></li>
            
                <li><a href="../modules/edition.collection.js.html">edition.collection.js</a></li>
            
                <li><a href="../modules/Fiche.html">Fiche</a></li>
            
                <li><a href="../modules/fiche_data.html">fiche_data</a></li>
            
                <li><a href="../modules/fiche_dom.html">fiche_dom</a></li>
            
                <li><a href="../modules/FICHES.html">FICHES</a></li>
            
                <li><a href="../modules/FilmClass.html">FilmClass</a></li>
            
                <li><a href="../modules/FILMS.html">FILMS</a></li>
            
                <li><a href="../modules/Input.html">Input</a></li>
            
                <li><a href="../modules/jQueryExtension.html">jQueryExtension</a></li>
            
                <li><a href="../modules/KeyboardEvents.html">KeyboardEvents</a></li>
            
                <li><a href="../modules/KeyEvents.html">KeyEvents</a></li>
            
                <li><a href="../modules/Mot.html">Mot</a></li>
            
                <li><a href="../modules/OBJET.html">OBJET</a></li>
            
                <li><a href="../modules/ObjetClass.html">ObjetClass</a></li>
            
                <li><a href="../modules/objets.html">objets</a></li>
            
                <li><a href="../modules/OBJETS.Dom.html">OBJETS.Dom</a></li>
            
                <li><a href="../modules/Page.html">Page</a></li>
            
                <li><a href="../modules/Paragraph.html">Paragraph</a></li>
            
                <li><a href="../modules/PARAGRAPHS.html">PARAGRAPHS</a></li>
            
                <li><a href="../modules/ready.js.html">ready.js</a></li>
            
                <li><a href="../modules/ref.js.html">ref.js</a></li>
            
                <li><a href="../modules/REFS.js.html">REFS.js</a></li>
            
                <li><a href="../modules/String.html">String</a></li>
            
                <li><a href="../modules/UI.html">UI</a></li>
            
                <li><a href="../modules/window.html">window</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Collection Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l5"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:5</code></a>
        </div>
    

    
        
            Module: <a href="../modules/Collection.html">Collection</a>
        
    

    
</div>



<div class="box intro">
    <h2 id="objet-collection">Objet Collection</h2>
<p>Gestion de la collection dans son ensemble</p>
<h2 id="hi-rarchie">Hiérarchie</h2>
<p>  Collection
    Livres {Book &lt; Fiche}
      Chapters {Chapter &lt; Fiche}
        Pages {Page &lt; Fiche}
          Paragraphs {Paragraph &lt; Fiche}</p>

</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_backup">backup</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_choose">choose</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_clear (sans parenthèses)">clear (sans parenthèses)</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_confirm_load">confirm_load</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_destroy">destroy</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_disable_save">disable_save</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_dispatch">dispatch</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_dispatch_data">dispatch_data</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_enable_save">enable_save</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_end_save">end_save</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_nothing_to_save (sans parenthèses)">nothing_to_save (sans parenthèses)</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_retour_backup">retour_backup</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_retour_load">retour_load</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_save">save</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_save_config">save_config</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property">
                                <a href="#property_books">books</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_frequence_saving">frequence_saving</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_loaded">loaded</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_loading">loading</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_name">name</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_saving">saving</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_backup" class="method item">
    <h3 class="name"><code>backup</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l491"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:491</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Lance le backup journalier</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Cette procédure est lancée tout de suite après le chargement de la
collection courante (sauf en mode test).</li>
<li>C&#39;est une pseudo-méthode, donc à appeler sans parenthèses.</li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="method_choose" class="method item">
    <h3 class="name"><code>choose</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>name</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>confirmed</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>
    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l83"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:83</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Permet de choisir la collection à afficher.</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Pour le moment, il y a trois collections possibles : la collection
&quot;narration&quot; (pour laquelle a été créée cette app), la collection &quot;test&quot;
qui permet de faire les tests unitaires et d&#39;intégration et la collection
&quot;publishing&quot; qui permet de faire les tests de publication.</li>
<li>La méthode produit une alerte si des éléments modifiés n&#39;ont pas été
enregistrés.</li>
<li>La méthode initialise tout avant de charger (Collection.clear).</li>
<li>Si on n&#39;est pas en mode test, un backup est lancé à la fin du chargement.</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>Le nom de la collection à charger.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">confirmed</code>
                        <span class="type">Boolean</span>
                    

                    

                    <div class="param-description">
                        <p>Lorsque des éléments étaient modifiés, la fonction
                  a demandé confirmation. Le résultat de la confirmation, lorsqu&#39;il
                  est positif, est renvoyé par cet argument.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Boolean</span>:
                    
                    <p>True si le chargement de la collection a été lancé. False sinon.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_clear (sans parenthèses)" class="method item">
    <h3 class="name"><code>clear (sans parenthèses)</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l272"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:272</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Efface complètement la collection courante (avant chargement d&#39;une autre
collection)</p>

    </div>

    

    

    
</div>

                
                    <div id="method_confirm_load" class="method item">
    <h3 class="name"><code>confirm_load</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>poursuivre</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l245"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:245</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Demande confirmation avant de charger une nouvelle collection, quand des
éléments n&#39;ont pas été sauvés (this.modified est true).</p>
<h2 id="notes">Notes</h2>
<ul>
<li>La méthode utilise <code>UI.confirm</code>.</li>
<li>Elle est considérée comme asynchrone puisque la méthode UI.confirm l&#39;est.</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">poursuivre</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>La méthode pour suivre.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_destroy" class="method item">
    <h3 class="name"><code>destroy</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/edition.collection.js.html">edition.collection.js</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_edition_Collection.js.html#l18"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;edition&#x2F;Collection.js:18</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Destruction de la collection courante</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Par mesure de prudence, il n&#39;est possible de détruire que la collection
test, pas la &quot;current&quot;.</li>
<li>L&#39;application est rechargée en fin de processus pour tout ré-initialiser.</li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="method_disable_save" class="method item">
    <h3 class="name"><code>disable_save</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l285"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:285</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Les deux méthodes `disable_save&#39; et &#39;enable_save&#39; permettent
d&#39;activer ou non la sauvegarde automatique (lorsque l&#39;option AUTO
est activé)</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Ce sont des méthodes complexes, donc à invoquer sans parenthèses.  </li>
<li>UTILISER CES DEUX MÉTHODES plutôt que stop_automatic_saving et
start_automatic_saving.</li>
<li>L&#39;idéal est même d&#39;utiliser <code>stop_save</code> (exactement) et <code>restart_save</code>
qui arrête et relance la sauvegarde automatique seulement dans le cas
où elle est activée (cf. les handy methods)</li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="method_dispatch" class="method item">
    <h3 class="name"><code>dispatch</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l170"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:170</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Méthode qui dispatche toutes les données +data+ remontées par
la requête ajax <code>collection/load</code>.</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Il s&#39;agit de dispatcher :<ul>
<li>Les fiches (et d&#39;afficher/ouvrir celles qui doivent l&#39;être)</li>
<li>Les données de l&#39;application courante (comme le nom de la collection)</li>
<li>Les préférences de l&#39;application</li>
</ul>
</li>
</ul>
<h2 id="warning">WARNING</h2>
<p>Cette méthode ne doit pas être utilisée pour charger seulement une
portion de la collection en cours de travail, car elle ré-initialise la
liste des modifications en fin de dispatch (car la création des fiches
les a marquées modifiées).
En d&#39;autres termes, si des fiches sont chargées en groupe plus tard, il
faut passer par FICHES.dispatch (TODO: mais n&#39;est-ce pas le même problème ?
et ne vaudrait-il pas mieux gérer la marque de la modification de la fiche ?)</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>Toutes les données remontées par ajax.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_dispatch_data" class="method item">
    <h3 class="name"><code>dispatch_data</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l218"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:218</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Dispatch les données remontées au chargement (en dehors des données fiches)</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Il s&#39;agit des données :<ul>
<li>Le dernier identifiant de fiche utilisé.</li>
<li>Le nom de la collection courante</li>
<li>La configuration courante (ouverte/visibilité des fiches)</li>
<li>Les préférences de l&#39;application.</li>
<li>Au premier chargement, définit aussi <code>collections</code>, la liste
des noms des collections courantes, pour établir le menu qui 
permettra de passer de l&#39;une à l&#39;autre.</li>
</ul>
</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>La table des données à dispatcher</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_enable_save" class="method item">
    <h3 class="name"><code>enable_save</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l309"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:309</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Réactive la sauvegarde automatique</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Lire les notes de la méthode <code>disable_save</code></li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="method_end_save" class="method item">
    <h3 class="name"><code>end_save</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l467"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:467</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Fin de la sauvegarde générale</p>

    </div>

    

    

    
</div>

                
                    <div id="method_nothing_to_save (sans parenthèses)" class="method item">
    <h3 class="name"><code>nothing_to_save (sans parenthèses)</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l392"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:392</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Retourne FALSE si quelque chose doit être sauvé (fiches, etc.)</p>
<h2 id="notes">Notes</h2>
<ul>
<li>La méthode est appelée par Collection.save()</li>
</ul>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                    <p>FALSE si des choses sont à enregistrer, TRUE dans le cas contraire.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_retour_backup" class="method item">
    <h3 class="name"><code>retour_backup</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l506"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:506</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Retour du backup quotidien</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Même si c&#39;est un backup quotidien unique, il est appelé à chaque
chargement de l&#39;application.</li>
<li>En mode normal (non test), c&#39;est cette méthode qui définit que 
l&#39;application est prête à travailler (<code>window.ready</code>)</li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="method_retour_load" class="method item">
    <h3 class="name"><code>retour_load</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>rajax</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l117"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:117</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <h2 id="retour-du-chargement-de-la-collection">Retour du chargement de la collection</h2>
<h2 id="notes">Notes</h2>
<ul>
<li>Cette méthode produit :<ul>
<li>Dispatch des informations</li>
<li>Construction de la collection</li>
<li>Lancement d&#39;un backup (sauf en mode test)</li>
<li>Préparation de l&#39;interface utilisateur</li>
</ul>
</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">rajax</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>Le retour ajax de la méthode load.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_save" class="method item">
    <h3 class="name"><code>save</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l415"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:415</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Sauvegarde de tous les éléments de la collection
(fiches, configuration, etc.)</p>
<h2 id="notes">NOTES</h2>
<ul>
<li>Les fiches à sauvegarder (ou supprimer) sont contenues dans la liste
this.modifieds_list (sous forme d&#39;instances)</li>
<li>C&#39;est la méthode <code>nothing_to_save</code> qui est appelée en premier
lieu pour voir si un enregistrement est nécessaire.</li>
<li>La méthode lance une &quot;chaine de sauvegarde&quot; appelant <code>save_fiches</code>,
<code>save_config</code>, etc. jusqu&#39;à <code>save_end</code></li>
</ul>

    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                    <p>TRUE si quelque chose est en train d&#39;être sauvé. FALSE dans le
        cas contraire.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_save_config" class="method item">
    <h3 class="name"><code>save_config</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l450"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:450</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Demande de la sauvegarde de la configuration courante</p>
<h2 id="notes">Notes</h2>
<ul>
<li>Seulement si les préférences le réclament</li>
</ul>

    </div>

    

    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_books" class="property item">
    <h3 class="name"><code>books</code></h3>
    <span class="type">Array</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l69"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:69</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Liste des livres de la collection (liste d&#39;instances {Book})</p>
<h2 id="notes">NOTES</h2>
<p>Cette liste est établie au chargement de la collection en insérant
toutes les fiches de type {Book}. C&#39;est la méthode FICHES.dispatch qui
s&#39;en charge.</p>

    </div>

    
        <p><strong>Default:</strong> []</p>
    

    

    
</div>

                
                    <div id="property_frequence_saving" class="property item">
    <h3 class="name"><code>frequence_saving</code></h3>
    <span class="type">Number</span>

    

    

    

    
        <span class="flag static">static</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l38"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:38</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Fréquence de sauvegarde en mode de sauvegarde automatique.</p>

    </div>

    

    

    
</div>

                
                    <div id="property_loaded" class="property item">
    <h3 class="name"><code>loaded</code></h3>
    <span class="type">Boolean</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l62"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:62</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Indique que la collection est chargée</p>

    </div>

    
        <p><strong>Default:</strong> false</p>
    

    

    
</div>

                
                    <div id="property_loading" class="property item">
    <h3 class="name"><code>loading</code></h3>
    <span class="type">Boolean</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l55"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:55</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Indique que le chargement est en cours</p>

    </div>

    
        <p><strong>Default:</strong> false</p>
    

    

    
</div>

                
                    <div id="property_name" class="property item">
    <h3 class="name"><code>name</code></h3>
    <span class="type">String</span>

    

    

    

    
        <span class="flag static">static</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l29"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:29</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Nom de la collection courante (nom du dossier dans <code>./collection</code>)</p>

    </div>

    
        <p><strong>Default:</strong> null</p>
    

    

    
</div>

                
                    <div id="property_saving" class="property item">
    <h3 class="name"><code>saving</code></h3>
    <span class="type">Boolean</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/_Users_philippeperret_Sites_table_narration_js_Collection.js.html#l49"><code>&#x2F;Users&#x2F;philippeperret&#x2F;Sites&#x2F;table_narration&#x2F;js&#x2F;Collection.js:49</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Indique que la sauvegarde est en cours</p>

    </div>

    
        <p><strong>Default:</strong> false</p>
    

    

    
</div>

                
            </div>
        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
